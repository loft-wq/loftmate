<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <meta name="format-detection" content="telephone=no">
    <title>ุฅุฏุงุฑุฉ ุงูุญูุงู ุงูุฒุงุฌู</title>
    <meta name="description" content="ุชุทุจูู ุดุงูู ูุฅุฏุงุฑุฉ ูุชุชุจุน ุงูุญูุงู ุงูุฒุงุฌู ูุงููุดุงุฑูุฉ ูู ุงููุณุงุจูุงุช">
    <meta name="keywords" content="ุญูุงู ุฒุงุฌู, ุฅุฏุงุฑุฉ ุงูุญูุงู, ูุณุงุจูุงุช ุงูุญูุงู, ุชุฑุจูุฉ ุงูุญูุงู">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#667eea">
</head>
<body>
    <div class="container">
        <div class="header fade-in">
            <button class="theme-toggle" onclick="toggleTheme()" title="ุชุจุฏูู ุงููุถุน ุงููุธูู/ุงูููุงุฑู">๐</button>
            <h1>ุฅุฏุงุฑุฉ ุงูุญูุงู ุงูุฒุงุฌู</h1>
            <p>ูุธุงู ุดุงูู ูุฅุฏุงุฑุฉ ูุชุชุจุน ุงูุญูุงู ุงูุฒุงุฌู ูุงููุดุงุฑูุฉ ูู ุงููุณุงุจูุงุช</p>
        </div>

        <div class="fade-in" id="loginSection">
            <div class="login-form">
                <h2>ูุฑุญุจุงู ุจู</h2>
                <div class="form-group">
                    <label>ุงุณู ุงููุณุชุฎุฏู:</label>
                    <input autocomplete="username" id="username" placeholder="ุฃุฏุฎู ุงุณูู" type="text">
                </div>
                <div class="form-group">
                    <label>ูููุฉ ุงููุฑูุฑ:</label>
                    <input autocomplete="current-password" id="password" placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ" type="password">
                </div>
                <button class="btn" onclick="login()" style="width: 100%;">ุชุณุฌูู ุงูุฏุฎูู</button>
            </div>
        </div>
        
        <div class="hidden" id="mainApp">
            <div class="user-info slide-in">
                <span>ุฃููุงู ูุณููุงูุ <strong id="currentUser"></strong></span>
                <button class="btn btn-cancel" onclick="logout()">ุชุณุฌูู ุฎุฑูุฌ</button>
            </div>

            <!-- ุดุฑูุท ุงูุฅุญุตุงุฆูุงุช -->
            <div class="stats-bar fade-in">
                <div class="stat-item">
                    <span class="stat-number" id="totalCount">0</span>
                    <div class="stat-label">ุฅุฌูุงูู ุงูุญูุงู</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="maleCount">0</span>
                    <div class="stat-label">ุฐููุฑ</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="femaleCount">0</span>
                    <div class="stat-label">ุฅูุงุซ</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="youngCount">0</span>
                    <div class="stat-label">ุตุบุงุฑ (2025)</div>
                </div>
            </div>

            <!-- ุงูุจุญุซ ูุงูููุงุชุฑ -->
            <div class="search-filters fade-in">
                <div class="search-row">
                    <div class="form-group" style="margin-bottom: 0;">
                        <input id="searchInput" onkeyup="filterPigeons()" placeholder="๐ ุงูุจุญุซ ุจุงูุงุณู ุฃู ุฑูู ุงูุญููุฉ..." type="text">
                    </div>
                    <div class="form-group" style="margin-bottom: 0;">
                        <select id="countryFilter" onchange="filterPigeons()">
                            <option value="">ุฌููุน ุงูุจูุฏุงู</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin-bottom: 0;">
                        <select id="breedFilter" onchange="filterPigeons()">
                            <option value="">ุฌููุน ุงูุณูุงูุงุช</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin-bottom: 0;">
                        <select id="colorFilter" onchange="filterPigeons()">
                            <option value="">ุฌููุน ุงูุฃููุงู</option>
                        </select>
                    </div>
                    <button class="btn btn-info btn-small" onclick="clearFilters()">๐๏ธ</button>
                </div>
            </div>

            <div class="nav-buttons fade-in">
                <button class="btn btn-success" onclick="showAddForm()">โ ุฅุถุงูุฉ ุญูุงูุฉ</button>
                <button class="btn btn-info" onclick="showPigeonsList()">๐ ูุงุฆูุฉ ุงูุญูุงู</button>
                <button class="btn btn-warning" onclick="showRaceManager()">๐ ุงููุณุงุจูุงุช</button>
                <button class="btn" onclick="exportData()">๐พ ุชุตุฏูุฑ ุงูุจูุงูุงุช</button>
                <button class="btn btn-info" onclick="generatePDF()">๐ PDF</button>
            </div>

            <!-- ูุณู ุงูุงุณุชูุฑุงุฏ/ุงูุชุตุฏูุฑ -->
            <div class="import-export fade-in">
                <input accept=".json" class="file-input" id="fileInput" onchange="importData(event)" type="file">
                <label class="file-label" for="fileInput">๐ ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช</label>
                <button class="btn btn-cancel btn-small" onclick="clearAllData()">๐๏ธ ูุณุญ ุงููู</button>
            </div>

            <div class="hidden" id="addForm">
                <h2 style="color: #667eea; text-align: center; margin-bottom: 30px;">
                    <span id="formTitle">ุฅุถุงูุฉ ุญูุงูุฉ ุฌุฏูุฏุฉ</span>
                </h2>

                <div class="form-row">
                    <div class="form-group">
                        <label>ุฑูู ุงูุญููุฉ (ูุซุงู: 25-01741):</label>
                        <input id="ringNumber" placeholder="25-01741" type="text">
                    </div>
                    <div class="form-group">
                        <label>ุจูุฏ ุงูููุดุฃ:</label>
                        <select id="country">
                            <option value="">ุงุฎุชุฑ ุงูุจูุฏ</option>
                            <option value="๐ฒ๐ฆ">๐ฒ๐ฆ ุงููุบุฑุจ</option>
                            <option value="๐ซ๐ท">๐ซ๐ท ูุฑูุณุง</option>
                            <option value="๐ง๐ช">๐ง๐ช ุจูุฌููุง</option>
                            <option value="๐ณ๐ฑ">๐ณ๐ฑ ููููุฏุง</option>
                            <option value="๐ฉ๐ช">๐ฉ๐ช ุฃููุงููุง</option>
                            <option value="๐ฌ๐ง">๐ฌ๐ง ุจุฑูุทุงููุง</option>
                            <option value="๐ช๐ธ">๐ช๐ธ ุฅุณุจุงููุง</option>
                            <option value="๐ฎ๐น">๐ฎ๐น ุฅูุทุงููุง</option>
                            <option value="๐บ๐ธ">๐บ๐ธ ุฃูุฑููุง</option>
                            <option value="๐น๐ท">๐น๐ท ุชุฑููุง</option>
                            <option value="๐ต๐ฑ">๐ต๐ฑ ุจูููุฏุง</option>
                            <option value="๐จ๐ฟ">๐จ๐ฟ ุงูุชุดูู</option>
                            <option value="๐ฆ๐บ">๐ฆ๐บ ุฃุณุชุฑุงููุง</option>
                            <option value="๐ฟ๐ฆ">๐ฟ๐ฆ ุฌููุจ ุฃูุฑูููุง</option>
                            <option value="๐จ๐ณ">๐จ๐ณ ุงูุตูู</option>
                            <option value="๐ฏ๐ต">๐ฏ๐ต ุงููุงุจุงู</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>ุงุณู ุงูุญูุงูุฉ:</label>
                        <input id="pigeonName" placeholder="ุงุณู ุงูุญูุงูุฉ" type="text">
                    </div>
                    <div class="form-group">
                        <label>ููู ุงูุญููุฉ:</label>
                        <select id="ringColor">
                            <option value="">ุงุฎุชุฑ ุงูููู</option>
                            <option value="ุฃุญูุฑ">๐ด ุฃุญูุฑ</option>
                            <option value="ุฃุฒุฑู">๐ต ุฃุฒุฑู</option>
                            <option value="ุฃุฎุถุฑ">๐ข ุฃุฎุถุฑ</option>
                            <option value="ุฃุตูุฑ">๐ก ุฃุตูุฑ</option>
                            <option value="ุจุฑุชูุงูู">๐ ุจุฑุชูุงูู</option>
                            <option value="ุจููุณุฌู">๐ฃ ุจููุณุฌู</option>
                            <option value="ุฃุณูุฏ">โซ ุฃุณูุฏ</option>
                            <option value="ุฃุจูุถ">โช ุฃุจูุถ</option>
                            <option value="ูุถู">๐ ูุถู</option>
                            <option value="ุฐูุจู">๐ก ุฐูุจู</option>
                            <option value="ูุฑุฏู">๐ธ ูุฑุฏู</option>
                            <option value="ุจูู">๐ค ุจูู</option>
                        </select>
                    </div>
                </div>
        
                <div class="form-row">
                    <div class="form-group">
                        <label>ููู ุงูุญูุงูุฉ:</label>
                        <select id="pigeonColor">
                            <option value="">ุงุฎุชุฑ ุงูููู</option>
                            <option value="ุฃุฒุฑู">๐ต ุฃุฒุฑู</option>
                            <option value="ุฃุฒุฑู ูุฎุทุท">๐ต ุฃุฒุฑู ูุฎุทุท</option>
                            <option value="ุฃุฒุฑู ูุชูุดุฑ">๐ต ุฃุฒุฑู ูุชูุดุฑ</option>
                            <option value="ุฃุญูุฑ">๐ด ุฃุญูุฑ</option>
                            <option value="ุฃุญูุฑ ูุฎุทุท">๐ด ุฃุญูุฑ ูุฎุทุท</option>
                            <option value="ุฃุญูุฑ ูุชูุดุฑ">๐ด ุฃุญูุฑ ูุชูุดุฑ</option>
                            <option value="ุฃุณูุฏ">โซ ุฃุณูุฏ</option>
                            <option value="ุจูู">๐ค ุจูู</option>
                            <option value="ุฑูุงุฏู ูุงุชุญ">๐ซ ุฑูุงุฏู ูุงุชุญ</option>
                            <option value="ุฃุจูุถ">โช ุฃุจูุถ</option>
                            <option value="ุฑูุงุฏู">โช ุฑูุงุฏู</option>
                            <option value="ุฑูุงุฏู ุบุงูู">โซ ุฑูุงุฏู ุบุงูู</option>
                            <option value="ุจูุฌ">๐จ ุจูุฌ</option>
                            <option value="ูุชุนุฏุฏ ุงูุฃููุงู">๐จ ูุชุนุฏุฏ ุงูุฃููุงู</option>
                            <option value="ุฃุจูุน">๐จ ุฃุจูุน</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ุณูุงูุฉ ุงูุญูุงูุฉ:</label>
                        <select id="breed">
                            <option value="">ุงุฎุชุฑ ุงูุณูุงูุฉ</option>
                            <option value="ุฌุงูุณู">๐ ุฌุงูุณู</option>
                            <option value="ูุงู ุฑูุช">๐ ูุงู ุฑูุช</option>
                            <option value="ุณุชูุดูุจูุช">๐ ุณุชูุดูุจูุช</option>
                            <option value="ุฌุงุจู ูุงูุฏูุงุจููู">๐ ุฌุงุจู ูุงูุฏูุงุจููู</option>
                            <option value="ุฌูุณ ุซูู">๐ ุฌูุณ ุซูู</option>
                            <option value="ูุงุฑุณูู ุงูุจุฑูุดุช">๐ ูุงุฑุณูู ุงูุจุฑูุดุช</option>
                            <option value="ุฏูุฑู ูุงู ุฏูู">๐ ุฏูุฑู ูุงู ุฏูู</option>
                            <option value="ููุจูุงู">๐ ููุจูุงู</option>
                            <option value="ูุงู ููู">๐ ูุงู ููู</option>
                            <option value="ููููู">๐ ููููู</option>
                            <option value="ูููููุงูุฒ">๐ ูููููุงูุฒ</option>
                            <option value="ุฏู ุฑุงู ุณุงุจููู">๐ ุฏู ุฑุงู ุณุงุจููู</option>
                            <option value="ุขุฑุฏู">๐ ุขุฑุฏู</option>
                            <option value="ูุงุชุฑูุณ">๐ ูุงุชุฑูุณ</option>
                            <option value="ุณููู">๐ ุณููู</option>
                            <option value="ูููุฑ ุฅูุฌูุฒ">๐ ูููุฑ ุฅูุฌูุฒ</option>
                            <option value="ูุงุฑููุณ ุจูุฑูุฑุง">๐ ูุงุฑููุณ ุจูุฑูุฑุง</option>
                            <option value="ููู ููุฑูุงูุฒ">๐ ููู ููุฑูุงูุฒ</option>
                            <option value="ุฏูููุฑุฏุช">๐ ุฏูููุฑุฏุช</option>
                            <option value="ูุงู ุฏูุฑ ููุฌู">๐ ูุงู ุฏูุฑ ููุฌู</option>
                            <option value="ุฌูุฑุงุฑุฏ ููุจูุงู">๐ ุฌูุฑุงุฑุฏ ููุจูุงู</option>
                            <option value="ุฃุฎุฑู">โ ุฃุฎุฑู</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>ุงููุงูู:</label>
                        <input id="owner" placeholder="ุงุณู ุงููุงูู" type="text">
                    </div>
                    <div class="form-group">
                        <label>ุงูุฌูุณ:</label>
                        <select id="gender">
                            <option value="">ุงุฎุชุฑ ุงูุฌูุณ</option>
                            <option value="ุฐูุฑ">โ๏ธ ุฐูุฑ</option>
                            <option value="ุฃูุซู">โ๏ธ ุฃูุซู</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>ุญููุฉ ุงูุฃุจ:</label>
                        <input id="fatherRing" placeholder="ุฑูู ุญููุฉ ุงูุฃุจ" type="text">
                    </div>
                    <div class="form-group">
                        <label>ุญููุฉ ุงูุฃู:</label>
                        <input id="motherRing" placeholder="ุฑูู ุญููุฉ ุงูุฃู" type="text">
                    </div>
                </div>

                <div class="form-group">
                    <label>ููุงุญุธุงุช:</label>
                    <textarea id="notes" placeholder="ูุนูููุงุช ุฅุถุงููุฉ ุนู ุงูุญูุงูุฉ..." rows="4"></textarea>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn btn-success" onclick="savePigeon()">
                        <span id="saveButtonText">ุญูุธ</span>
                    </button>
                    <button class="btn btn-cancel" onclick="showPigeonsList()">ุฅูุบุงุก</button>
                </div>
            </div>

            <!-- ุฅุฏุงุฑุฉ ุงููุณุงุจูุงุช -->
            <div class="hidden" id="raceManager">
                <h2 style="color: #667eea; text-align: center; margin-bottom: 30px;">๐ ุฅุฏุงุฑุฉ ุงููุณุงุจูุงุช</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>ุงุณู ุงููุณุงุจูุฉ:</label>
                        <input id="raceName" placeholder="ุงุณู ุงููุณุงุจูุฉ" type="text">
                    </div>
                    <div class="form-group">
                        <label>ุงูุชุงุฑูุฎ:</label>
                        <input id="raceDate" type="date">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>ุงููุณุงูุฉ (ูู):</label>
                        <input id="raceDistance" min="1" placeholder="500" type="number">
                    </div>
                    <div class="form-group">
                        <label>ุงูุญูุงูุฉ ุงููุดุงุฑูุฉ:</label>
                        <select id="raceParticipant">
                            <option value="">ุงุฎุชุฑ ุงูุญูุงูุฉ</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>ุงููุฑูุฒ:</label>
                        <input id="racePosition" min="1" placeholder="1" type="number">
                    </div>
                    <div class="form-group">
                        <label>ุงูุณุฑุนุฉ (ู/ุฏูููุฉ):</label>
                        <input id="raceSpeed" min="1" placeholder="1200" type="number">
                    </div>
                </div>

                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn btn-success" onclick="addRaceResult()">ุฅุถุงูุฉ ุงููุชูุฌุฉ</button>
                    <button class="btn btn-cancel" onclick="showPigeonsList()">ุงูุนูุฏุฉ</button>
                </div>
            </div>

            <div class="hidden" id="pigeonsList">
                <div id="pigeonsContent">
                    <div class="empty-state">
                        ูุง ุชูุฌุฏ ุญูุงูุงุช ูุณุฌูุฉ. ุงููุฑ ุนูู "ุฅุถุงูุฉ ุญูุงูุฉ" ููุจุฏุก.
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ูุงูุฐุฉ ุงูุชุนุฏูู -->
        <div class="modal" id="editModal">
            <div class="modal-content">
                <span class="close" onclick="closeEditModal()">โ</span>
                <h2>ุชุนุฏูู ุงูุญูุงูุฉ</h2>
                <div id="editFormContent">
                    <!-- ูุญุชูู ูููุฐุฌ ุงูุชุนุฏูู ุณูุชู ุฅุฏุฑุงุฌู ููุง -->
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // ุชุณุฌูู Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('ุชู ุชุณุฌูู Service Worker ุจูุฌุงุญ:', registration.scope);
                    })
                    .catch(function(error) {
                        console.log('ูุดู ูู ุชุณุฌูู Service Worker:', error);
                    });
            });
        }
    </script>
</body>
</html>